<template>
    <section>
        <nav-bar activeflag="earning"></nav-bar>
        <main class="bottom">
			<section class="dashboard-details">
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 351 160">
					<defs>
						<linearGradient id="linear-gradient" x2="1" y2="0.983" gradientUnits="objectBoundingBox">
							<stop offset="0" stop-color="#ffcb74"/>
							<stop offset="0.593" stop-color="#f7cf8d"/>
							<stop offset="1" stop-color="#dbba83"/>
						</linearGradient>
						<clipPath id="clip-path">
							<rect id="Rectangle_28" data-name="Rectangle 28" width="351" height="160" rx="10" transform="translate(12 63)" fill="url(#linear-gradient)"/>
						</clipPath>
						<linearGradient id="linear-gradient-2" x2="1" y2="0.983" gradientUnits="objectBoundingBox">
							<stop offset="0" stop-color="#ffcb74"/>
							<stop offset="0.593" stop-color="#d1a356"/>
							<stop offset="1" stop-color="#e5c083" stop-opacity="0.82"/>
						</linearGradient>
						<linearGradient id="linear-gradient-3" x1="0.086" y1="0.066" x2="0.842" y2="0.909" gradientUnits="objectBoundingBox">
							<stop offset="0" stop-color="#fbc56b" stop-opacity="0.588"/>
							<stop offset="1" stop-color="#f1c57d"/>
						</linearGradient>
						<linearGradient id="linear-gradient-5" x1="1.045" y1="-0.137" x2="0.048" y2="1.065" gradientUnits="objectBoundingBox">
							<stop offset="0" stop-color="#ffcb74" stop-opacity="0.329"/>
							<stop offset="1" stop-color="#efc581"/>
						</linearGradient>
					</defs>
					<g id="Available_Balance" data-name="Available Balance" transform="translate(-12 -63)">
						<g id="Mask_Group_1" data-name="Mask Group 1" clip-path="url(#clip-path)">
							<g id="Group_394" data-name="Group 394">
								<rect id="Rectangle_27" data-name="Rectangle 27" width="351" height="173" rx="10" transform="translate(12 63)" fill="url(#linear-gradient-2)"/>
								<circle id="Ellipse_20" data-name="Ellipse 20" cx="64.5" cy="64.5" r="64.5" transform="translate(-29 29)" opacity="0.75" fill="url(#linear-gradient-3)"/>
								<circle id="Ellipse_23" data-name="Ellipse 23" cx="53.5" cy="53.5" r="53.5" transform="translate(387 270) rotate(180)" opacity="0.45" fill="url(#linear-gradient-3)"/>
								<circle id="Ellipse_21" data-name="Ellipse 21" cx="36.5" cy="36.5" r="36.5" transform="translate(317 34)" opacity="0.75" fill="url(#linear-gradient-5)"/>
								<circle id="Ellipse_22" data-name="Ellipse 22" cx="19.5" cy="19.5" r="19.5" transform="translate(343 79) rotate(90)" opacity="0.45" fill="url(#linear-gradient-5)"/>
							</g>
						</g>
						<text transform="translate(24 129)" fill="#a56c0d" font-size="28" font-family="Outfit-Medium, Outfit" font-weight="500">
							<tspan x="0" y="0">$<tspan id='available_bal'>--</tspan></tspan>
						</text>
						<text transform="translate(188 129)" fill="#fff" font-size="12" font-family="Outfit-Medium, Outfit" font-weight="500">
							<tspan x="0" y="0">GAS $<tspan id='small_bal'>--</tspan></tspan>
						</text>
						<g id="Group_395" data-name="Group 395" transform="translate(108)">
							<text id="USDT" transform="translate(206 88)" fill="#fff" font-size="8" font-family="Outfit-Medium, Outfit" font-weight="500">
								<tspan x="0" y="0">--</tspan>
							</text>
							<rect id="Rectangle_29" data-name="Rectangle 29" width="12" height="12" rx="3" transform="translate(192 79)" fill="#fff"/>
							<path id="eye" d="M5.819,4.585A3.439,3.439,0,0,0,4.487,3.351a1.528,1.528,0,0,1,.213.787,1.508,1.508,0,0,1-.46,1.107,1.51,1.51,0,0,1-1.107.46,1.508,1.508,0,0,1-1.107-.46,1.509,1.509,0,0,1-.46-1.107,1.528,1.528,0,0,1,.213-.787A3.437,3.437,0,0,0,.448,4.585,3.61,3.61,0,0,0,1.614,5.727a2.929,2.929,0,0,0,3.039,0A3.61,3.61,0,0,0,5.819,4.585ZM3.3,3.243a.167.167,0,0,0-.168-.168A1.069,1.069,0,0,0,2.07,4.138a.168.168,0,1,0,.336,0,.728.728,0,0,1,.727-.727A.167.167,0,0,0,3.3,3.243ZM6.266,4.585a.484.484,0,0,1-.07.241A3.71,3.71,0,0,1,4.88,6.115a3.387,3.387,0,0,1-3.493,0A3.731,3.731,0,0,1,.07,4.827a.451.451,0,0,1,0-.483A3.736,3.736,0,0,1,1.387,3.057a3.381,3.381,0,0,1,3.493,0A3.73,3.73,0,0,1,6.2,4.344.484.484,0,0,1,6.266,4.585Z" transform="translate(194.867 80.643)" fill="#deae5e"/>
							<path id="Polygon" data-name="Polygon 4" d="M4.293.707a1,1,0,0,1,1.414,0L8.293,3.293A1,1,0,0,1,7.586,5H2.414a1,1,0,0,1-.707-1.707Z" transform="translate(242 88) rotate(180)" fill="#fff"/>
						</g>
						<line id="Line_1" data-name="Line 1" x2="323" transform="translate(26.5 149.5)" fill="none" stroke="#a56c0d" stroke-width="0.25"/>
						<g id="Total_Profit" data-name="Total Profit">
							<text transform="translate(24 199)" fill="#8b5b0a" font-size="15" font-family="Outfit-Medium, Outfit" font-weight="500">
								<tspan x="0" y="0">$<tspan id="nft_earning">--</tspan></tspan>
							</text>
							<text id="Total_Profit-2" data-name="Total Profit" transform="translate(24 175)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
								<tspan x="0" y="0">Nft Earning</tspan>
							</text>
						</g>
						<g id="Total_Profit-3" data-name="Total Profit">
							<text id="_3138.53" data-name="$3138.53" transform="translate(145 199)" fill="#8b5b0a" font-size="15" font-family="Outfit-Medium, Outfit" font-weight="500">
								<tspan x="0" y="0">$<tspan id="total_profit">--</tspan></tspan>
							</text>
							<text id="Total_Profit-4" data-name="Total Profit" transform="translate(145 175)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
								<tspan x="0" y="0">Total Profit</tspan>
							</text>
						</g>
						<g id="Referral_Bonus" data-name="Referral Bonus">
							<text id="_192.84" data-name="$192.84" transform="translate(258 199)" fill="#8b5b0a" font-size="15" font-family="Outfit-Medium, Outfit" font-weight="500">
								<tspan x="0" y="0">$<tspan id="referral_bonus">--</tspan></tspan>
							</text>
							<text id="Referral_Bonus-2" data-name="Referral Bonus" transform="translate(258 175)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
								<tspan x="0" y="0">Referral Bonus</tspan>
							</text>
						</g>
						<text id="Available_Balance-2" data-name="Available Balance" transform="translate(24 90)" fill="#1f1f1f" font-size="14" font-family="Outfit-SemiBold, Outfit" font-weight="600">
							<tspan x="0" y="0">Available Balance (USDT)</tspan>
						</text>
					</g>
				</svg>
			</section>
			<section class="dashboard-details">
				<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 351.5 322.625">
					<g id="Details" transform="translate(-12 -242)">
						<text transform="translate(12 254)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Winning Rate</tspan>
						</text>
						<text transform="translate(12 296)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Total Profit Percentage</tspan>
						</text>
						<text transform="translate(12 338)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Today Profit</tspan>
						</text>
						<text id="This_Week_Profit" data-name="This Week Profit" transform="translate(12 380)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Last Week Profit</tspan>
						</text>
						<text transform="translate(12 422)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Last Month Profit</tspan>
						</text>
						<text transform="translate(12 464)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Pairing Bonus</tspan>
						</text>
						<text transform="translate(12 506)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Matching Bonus</tspan>
						</text>
						<text transform="translate(12 548)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="0" y="0">Direct Sponsor</tspan>
						</text>
						<text transform="translate(340 254)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-37.464" y="0"><tspan id='win_rate'>--</tspan>%</tspan>
						</text>
						<text transform="translate(343 296)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-40.98" y="0"><tspan id='total_profit_percentage'>--</tspan>%</tspan>
						</text>
						<text transform="translate(345 338)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-43.536" y="0">$<tspan id='today_profit'>--</tspan></tspan>
						</text>
						<text transform="translate(350 380)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-48.528" y="0">$<tspan id='week_profit'>--</tspan></tspan>
						</text>
						<text transform="translate(348 422)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-46.32" y="0">$<tspan id='month_profit'>--</tspan></tspan>
						</text>
						<text transform="translate(342 464)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-40.332" y="0">$<tspan id='pairing_bonus'>--</tspan></tspan>
						</text>
						<text transform="translate(335 506)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-33.504" y="0">$<tspan id='matching_bonus'>--</tspan></tspan>
						</text>
						<text transform="translate(343 548)" fill="#fff" font-size="12" font-family="Outfit-Regular, Outfit">
							<tspan x="-40.896" y="0">$<tspan id='direct_bonus'>--</tspan></tspan>
						</text>
						<line id="Line_2" data-name="Line 2" x2="351" transform="translate(12.5 270.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_3" data-name="Line 3" x2="351" transform="translate(12.5 312.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_4" data-name="Line 4" x2="351" transform="translate(12.5 354.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_5" data-name="Line 5" x2="351" transform="translate(12.5 396.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_6" data-name="Line 6" x2="351" transform="translate(12.5 438.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_7" data-name="Line 7" x2="351" transform="translate(12.5 480.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_8" data-name="Line 8" x2="351" transform="translate(12.5 522.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						<line id="Line_9" data-name="Line 9" x2="351" transform="translate(12.5 564.5)" fill="none" stroke="#5b5b5b" stroke-width="0.25"/>
						
						<path style="display:none;" id="Polygon_1_u" data-name="Polygon 1" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 246)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_2_u" data-name="Polygon 2" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 288)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_3_u" data-name="Polygon 3" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 330)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_4_u" data-name="Polygon 4" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 372)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_5_u" data-name="Polygon 5" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 414)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_6_u" data-name="Polygon 6" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 456)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_7_u" data-name="Polygon 7" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 497)" fill="#49e052"/>
						<path style="display:none;" id="Polygon_8_u" data-name="Polygon 8" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(280 539)" fill="#49e052"/>
						
						<path style="display:none;" id="Polygon_1_d" data-name="Polygon 1" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 256) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_2_d" data-name="Polygon 2" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 298) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_3_d" data-name="Polygon 3" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 340) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_4_d" data-name="Polygon 4" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 382) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_5_d" data-name="Polygon 5" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 424) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_6_d" data-name="Polygon 6" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 466) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_7_d" data-name="Polygon 7" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 507) rotate(180)" fill="#ff4d54"/>
						<path style="display:none;" id="Polygon_8_d" data-name="Polygon 8" d="M5.241.886a1,1,0,0,1,1.519,0l3.826,4.463A1,1,0,0,1,9.826,7H2.174a1,1,0,0,1-.759-1.651Z" transform="translate(292 549) rotate(180)" fill="#ff4d54"/>
						
					</g>
				</svg>
			</section>
			<section class="dashboard-details">
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 351.5 20">
			
					<g id="title"  transform="translate(-12 -578)">
						<text transform="translate(12 592)" fill="#ffcb74" font-size="14" font-family="Outfit-SemiBold, Outfit" font-weight="600">
							<tspan x="0" y="0">Trading Records</tspan>
						</text>
						
					</g>
				</svg>
			</section>
			<div id="cj_transaction" class="top trading-field"></div>
            <div class="list-page cj-list-page" style="margin-top:5%;"></div>
		</main>
    </section>
</template>

<script>

import $ from 'jquery'
import Axios from 'axios'
import NavBar from "./NavBar.vue"

var headers = {
        // 'Access-Control-Allow-Origin' : '*',
        // 'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',
        'Content-Type':'application/json'
      };

export default {
    components: {
        NavBar
    },
    
    created() {

        // TODO: get-api: http://test.ait.capital/api/index/Api/userWallet 
		Axios({
              method:'GET',
              url:'http://test.ait.capital/api/index/Api/userWallet',
              withCredentials: true,
              headers: headers
          }) 
        .then(response => {
          const data = response.data;
          // check for error response
          if (response.status != 200) {
            // get error message from body or default to response statusText
            const error = (data && data.message) || response.statusText;
            return Promise.reject(error);
          }
          if (data.code == 1) {
            var arr = data.data;
            console.log(arr);
			$("#available_bal").text((Math.floor(arr.usdt * 100)/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ','));
			$("#small_bal").text(parseFloat(Math.floor(arr.gas * 100)/100).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ','));
          } else {
            //this.onLogout();
          }
        })
        .catch(error => {
          // this.errorMessage = error;
          console.error("Request: " + error);
        });

        // TODO: get-api: http://test.ait.capital/api/index/Api/referal_report
		Axios({
              method:'GET',
              url:'http://test.ait.capital/api/index/Api/referal_report',
              withCredentials: true,
              headers: headers
          }) 
        .then(response => {
          const data = response.data;
          // check for error response
          if (response.status != 200) {
            // get error message from body or default to response statusText
            const error = (data && data.message) || response.statusText;
            return Promise.reject(error);
          }
          if (data.code == 1) {
            var arr = data.data;
            console.log(arr);
			$("#referral_bonus").text(arr.referral_bonus);
			$("#nft_earning").text(arr.nft_earning);
			$("#pairing_bonus").text(arr.pairing_bonus);
			if(arr.pairing_bonus>0){
				$("#Polygon_6_u").show();
			}else if(arr.pairing_bonus<0){
				$("#Polygon_6_d").show();
			}
			$("#matching_bonus").text(arr.matching_bonus);
			if(arr.matching_bonus>0){
				$("#Polygon_7_u").show();
			}else if(arr.matching_bonus<0){
				$("#Polygon_7_d").show();
			}
			$("#direct_bonus").text(arr.direct_bonus);
			if(arr.direct_bonus>0){
				$("#Polygon_8_u").show();
			}else if(arr.direct_bonus<0){
				$("#Polygon_8_d").show();
			}
          } else {
            //this.onLogout();
          }
        })
        .catch(error => {
          // this.errorMessage = error;
          console.error("Request: " + error);
        });

        // TODO: get-api: http://test.ait.capital/api/index/Api/win_rate
		Axios({
              method:'GET',
              url:'http://test.ait.capital/api/index/Api/win_rate',
              withCredentials: true,
              headers: headers
          }) 
        .then(response => {
          const data = response.data;
          // check for error response
          if (response.status != 200) {
            // get error message from body or default to response statusText
            const error = (data && data.message) || response.statusText;
            return Promise.reject(error);
          }
          if (data.code == 1) {
            var arr = data.data;
            console.log(arr);
			$("#win_rate").text(arr.win_rate);
			if(arr.win_rate>0){
				$("#Polygon_1_u").show();
			}else if(arr.win_rate<0){
				$("#Polygon_1_d").show();
			}
          } else {
            //this.onLogout();
          }
        })
        .catch(error => {
          // this.errorMessage = error;
          console.error("Request: " + error);
        });

        // TODO: get-api: http://test.ait.capital/api/index/Api/profit_report
		Axios({
              method:'GET',
              url:'http://test.ait.capital/api/index/Api/profit_report',
              withCredentials: true,
              headers: headers
          }) 
        .then(response => {
          const data = response.data;
          // check for error response
          if (response.status != 200) {
            // get error message from body or default to response statusText
            const error = (data && data.message) || response.statusText;
            return Promise.reject(error);
          }
          if (data.code == 1) {
            var arr = data.data;
            console.log(arr);
			$("#total_profit").text(arr.total_profit);
			$("#total_profit_percentage").text(arr.total_profit_percentage);
			if(arr.total_profit_percentage>0){
				$("#Polygon_2_u").show();
			}else if(arr.total_profit_percentage<0){
				$("#Polygon_2_d").show();
			}
			$("#today_profit").text(arr.today_profit);
			if(arr.today_profit>0){
				$("#Polygon_3_u").show();
			}else if(arr.today_profit<0){
				$("#Polygon_3_d").show();
			}
			$("#week_profit").text(arr.week_profit);
			if(arr.week_profit>0){
				$("#Polygon_4_u").show();
			}else if(arr.week_profit<0){
				$("#Polygon_4_d").show();
			}
			$("#month_profit").text(arr.month_profit);
			if(arr.month_profit>0){
				$("#Polygon_5_u").show();
			}else if(arr.month_profit<0){
				$("#Polygon_5_d").show();
			}
          } else {
            //this.onLogout();
          }
        })
        .catch(error => {
          // this.errorMessage = error;
          console.error("Request: " + error);
        });

        // TODO: get-api: http://test.ait.capital/api/index/Api/mycj
		Axios({
              method:'GET',
              url:'http://test.ait.capital/api/index/Api/mycj',
              withCredentials: true,
              headers: headers
          })
        .then(response => {
          const data = response.data;
          // check for error response
          if (response.status != 200) {
            // get error message from body or default to response statusText
            const error = (data && data.message) || response.statusText;
            return Promise.reject(error);
          }
          if (data.code == 1) {
            var arr = data.data;
            console.log(arr);
			$('#cj_transaction').fadeOut(100, function() { 
				$(this).html('');
				$(this).fadeIn();
				$.each(arr.list, function (i, item) {
					var status_color = '<span style="color: #696969;">--';
					
					if(item.sold_price !== 0){
						if(item.earning>=0){
							status_color = '<span style="color: #49E052;">+'+"$" + Math.abs(item.earning).toLocaleString("en-US");
						}else{
							status_color = '<span style="color: #ff4d54;">-'+"$" + Math.abs(item.earning).toLocaleString("en-US");
						}
					}
					
					var build = '<div class="trading-field-div"><section class="trading-subfield"><img src="'+item.img+'" alt=""><div><section><p>'+ item.symbol+'</p><span>'+ status_color +'</span> (USDT)</span></section><section><p style="color: #CECECE; font-size: 10px;font-weight:bold;">'+ item.t_type+'</p><p style="color: #CECECE;font-size: 10px;font-weight:bold;">'+ item.datetime +'</p></section></div></section></div>';
					
					$('#cj_transaction').append(build);
				});
				$('.cj-list-page').html(arr.page);
			});
          } else {
            //this.onLogout();
          }
        })
        .catch(error => {
          // this.errorMessage = error;
          console.error("Request: " + error);
        });
    },
}
</script>
